'use strict';

// MODULES //

var Datastore = require( 'nedb' );
var path = require( 'path' );


// VARIABLES //

var appPath = global.window
	.nwDispatcher
	.requireNwGui()
	.App
	.dataPath;


// CREATE //

/**
* Creates a document store.
*
* @param {string} table - table name
* @returns {Object} database object
*/
function create( table ) {
	/* jshint validthis:true */
	this[ table.toUpperCase() ] = new Datastore({
		'filename': path.join( appPath, table + '.db' ),
		'autoload': true
	});
	return this;
} // end METHOD create()


// EXPORTS //

module.exports = create;
